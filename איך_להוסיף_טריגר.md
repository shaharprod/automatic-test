# ⚙️ איך להוסיף טריגר - הסבר מפורט

## 🎯 מה זה טריגר?
טריגר הוא "מערכת התרעה" שאומרת ל-Apps Script: "כשמישהו מגיש את הפורם, תפעיל את הפונקציה `onFormSubmit`".

---

## 📍 שלב 1: איפה לראות טריגרים?

### צעד 1: פתח את Apps Script
1. פתח דפדפן (Chrome/Edge/Firefox)
2. לך לכתובת: **https://script.google.com/**
3. התחבר עם חשבון Google שלך
4. **בחר את הפרויקט שלך** (אם יש לך כמה פרויקטים)

### צעד 2: מצא את תפריט הטריגרים
1. בחלון Apps Script, בצד **שמאל למעלה**, תראה סמל של **⚙️ (גלגל שיניים)**
2. **לחץ על הסמל ⚙️**
3. יופיע תפריט עם אפשרויות
4. **לחץ על "Triggers"** (טריגרים) - זה האופציה השלישית או הרביעית בתפריט

### צעד 3: מה תראה?
1. יפתח עמוד **"Triggers"** (טריגרים)
2. **אם יש טריגר** - תראה טבלה עם טריגר:
   ```
   Function        Event source     Event type       Status
   onFormSubmit    From form       On form submit   Enabled
   ```
3. **אם אין טריגר** - תראה הודעה "No triggers set up" או "אין טריגרים מוגדרים"

---

## ✅ שלב 2: איך להוסיף טריגר (אם אין)

### צעד 1: לחץ על הכפתור להוספת טריגר
1. בעמוד **"Triggers"**, **בצד ימין למעלה**, תראה כפתור:
   - **"+ Add Trigger"** (הוסף טריגר) - כפתור כחול או אפור
2. **לחץ על הכפתור**

### צעד 2: מלא את הפרטים
יפתח חלון עם 4 שדות למלא:

#### 1️⃣ Choose which function to run (בחר איזו פונקציה להריץ):
- לחץ על הרשימה הנפתחת (dropdown)
- **בחר:** `onFormSubmit`
- זה אומר: "כשהטריגר מופעל, הרץ את הפונקציה onFormSubmit"

#### 2️⃣ Select event source (בחר מקור אירוע):
- לחץ על הרשימה הנפתחת
- **בחר:** `From form` (מהפורם)
- זה אומר: "הטריגר יופעל כשמישהו מגיש פורם"

#### 3️⃣ Select event type (בחר סוג אירוע):
- לחץ על הרשימה הנפתחת
- **בחר:** `On form submit` (בעת הגשת פורם)
- זה אומר: "הטריגר יופעל בדיוק כשמישהו לוחץ 'שלח' בפורם"

#### 4️⃣ Failure notification settings (הגדרות התראה על שגיאות):
- לחץ על הרשימה הנפתחת
- **בחר:** `Immediately` (מיידי) - זה אומר: "אם יש שגיאה, שלח לי מייד התראה"

### צעד 3: שמור את הטריגר
1. **לחץ על הכפתור "Save"** (שמור) בתחתית החלון
2. ייתכן שתתבקש לאשר הרשאות - **לחץ "Allow"** (אפשר)
3. ✅ הטריגר נוצר!

---

## 🔍 שלב 3: בדיקה שהטריגר קיים

### איך לבדוק:
1. חזור לעמוד **"Triggers"** (⚙️ → Triggers)
2. תראה בטבלה:
   ```
   Function        Event source     Event type       Status
   onFormSubmit    From form       On form submit   Enabled ✅
   ```
3. אם תראה את זה - ✅ **הטריגר קיים ומוגדר!**

---

## 📸 דוגמה - איך זה נראה:

```
┌─────────────────────────────────────────────┐
│ Apps Script - פרויקט שלי                    │
├─────────────────────────────────────────────┤
│                                             │
│  ⚙️ (גלגל שיניים)  ← לחץ כאן                │
│     ↓                                       │
│  ┌─────────────────┐                       │
│  │ Projects        │                       │
│  │ Triggers  ← כאן │                       │
│  │ Settings        │                       │
│  └─────────────────┘                       │
│                                             │
│  [Triggers Page]                            │
│  ┌─────────────────────────────────────┐   │
│  │ [+ Add Trigger]  ← לחץ כאן         │   │
│  ├─────────────────────────────────────┤   │
│  │ Function    Event    Event   Status  │   │
│  │ (empty - no triggers yet)           │   │
│  └─────────────────────────────────────┘   │
│                                             │
└─────────────────────────────────────────────┘
```

---

## ⚠️ אם לא מוצא את הכפתור ⚙️:

### בעיה: "לא רואה את הכפתור ⚙️"
**פתרון:**
1. ודא שאתה ב-**Apps Script** (https://script.google.com/)
2. ודא שפתחת **פרויקט** (לא רק את הדף הראשי)
3. נסה לרענן את הדף (F5)
4. אם עדיין לא רואה - נסה לחפש בתפריט העליון:
   - לחץ על **"Edit"** (עריכה) → **"Current project's triggers"** (טריגרים של הפרויקט הנוכחי)

---

## 📋 סיכום - 3 צעדים פשוטים:

1. ✅ ב-Apps Script → לחץ **⚙️** → **"Triggers"**
2. ✅ לחץ **"+ Add Trigger"**
3. ✅ בחר:
   - Function: `onFormSubmit`
   - Event source: `From form`
   - Event type: `On form submit`
   - לחץ **"Save"**

---

## ✅ אחרי שהוספת את הטריגר:

1. **נסה את הפורם:**
   - פתח את הפורם
   - הפרס אותו (Submit)
   - בדוק את Execution log ב-Apps Script

2. **בדוק אם זה עובד:**
   - ב-Apps Script → פתח **Execution log** (יומן ביצוע)
   - תראה: `🔄 פונקציה onFormSubmit הופעלה`
   - אם רואה את זה - ✅ **הכל עובד!**

---

**🎉 בהצלחה!**

